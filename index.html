<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>崇明國中網站</title>
<style>
  body { font-family: "Microsoft JhengHei", sans-serif; margin:0; padding:0; background:#f4f4f4;}
  nav { background:#004080; padding:10px;}
  nav a { color:#fff; margin: 0 10px; text-decoration:none; font-weight:bold;}
  nav a:hover { text-decoration:underline;}
  .container { max-width: 900px; margin: 20px auto; background:#fff; padding:20px; box-shadow: 0 0 8px rgba(0,0,0,0.1);}
  h1 { color:#004080;}
  .announcements ul { list-style:none; padding:0;}
  .announcements li { padding:10px 0; border-bottom:1px solid #ddd;}
  .announcements li a { color:#004080; text-decoration:none;}
  .announcements li a:hover { text-decoration:underline;}
  .announcements time { color:#888; font-size:0.9em; margin-left:10px;}
  .highlight-sites { margin-top:30px; }
  .highlight-sites a { display:inline-block; background:#004080; color:#fff; padding:10px 15px; margin:5px; border-radius:4px; text-decoration:none;}
  .highlight-sites a:hover { background:#0066cc;}
</style>
</head>
<body>
<nav>
  <a href="#">首頁</a>
  <a href="#">學校簡介</a>
  <a href="#">教學資源</a>
  <a href="#">學生專區</a>
  <a href="#">家長專區</a>
  <a href="#">行政公告</a>
</nav>

<div class="container">
  <h1>最新行政公告（僅顯示最近7天）</h1>
  <div class="announcements">
    <ul id="announcement-list">
      <!-- 公告由 JavaScript 載入 -->
    </ul>
  </div>

  <div class="highlight-sites">
    <h2>重點網站</h2>
    <a href="https://www.cmjh.tn.edu.tw/modules/tadnews/index.php?nsn=7562" target="_blank">榮譽榜</a>
    <a href="https://www.cmjh.tn.edu.tw/modules/tadnews/index.php?nsn=1000" target="_blank">教學資源</a>
    <a href="https://www.cmjh.tn.edu.tw/modules/tadnews/index.php?nsn=2000" target="_blank">學生專區</a>
  </div>
</div>

<script>
  fetch('data/announcements.json')
    .then(response => response.json())
    .then(data => {
      const list = document.getElementById('announcement-list');
      const now = new Date();
      data.forEach(item => {
        const date = new Date(item.date);
        const diffTime = Math.abs(now - date);
        const diffDays = diffTime / (1000 * 60 * 60 * 24);
        if (diffDays <= 7) {
          const li = document.createElement('li');
          li.innerHTML = `<a href="${item.url}" target="_blank">${item.title}</a><time>${item.date}</time>`;
          list.appendChild(li);
        }
      });
    })
    .catch(() => {
      document.getElementById('announcement-list').innerHTML = '<li>公告資料載入失敗</li>';
    });
</script>
</body>
</html>
